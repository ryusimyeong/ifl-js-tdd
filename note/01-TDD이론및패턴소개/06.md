# 6. 테스트할 수 없는 코드 2

1. 관심사가 분리되지 않음
2. 재사용성이 떨어짐

## 1. 관심사가 분리되지 않음

클릭 이벤트 처리기를 인라인 형태로 정의되어 있다.

한 줄인데 counter를 증가시키는 것과 countDisplay함수를 실행시키는 두 가지 일을 하고 있다.

```html
<button onclick="counter++; countDisplay()">증가</button>
```

소프트웨어 작성 규칙 중에는 `단일책임원칙`이라는 게 있다.

하나의 코드는 한 가지 역할만 해야 한다.

## 2. 재사용성이 떨어짐

`counter`라는 전역 변수 사용은 최대한 최대한 지양해야 한다.

전역 변수는 다른 함수와 충돌할 가능성이 높기 때문이다.

또한 횟수를 표시하는 span의 id를 displayCount 함수에서 하드코딩해서 넣어주고 있다.

이러면 다른 셀렉터 혹은 다른 id에 displayCount 함수를 사용할 수 없게 된다.

코드는 `open - close 규칙`, 즉 확장에는 열려있고 변경에는 닫혀있어야 한다. 

## 어떻게 하면 테스트할 수 있을까?

1. 코드를 UI에서 완전히 분리
  - HTML에서 JS 코드를 떼어내면 비즈니스 로직만 테스트할 수 있음
2. 자바스크립트를 별도 파일로 분리
  - 다른 곳에서도 재사용할 수 있고 테스트성도 좋아짐
